---
import MainLayout from '../../layouts/MainLayout.astro';
import Header from '../../components/common/Header.astro';
import Container from '../../components/ui/Container.astro';
import Button from '../../components/common/Button.astro';

const title = "Portafolio | Hikevo Design";
const description = "Selección de proyectos de desarrollo web y estrategias digitales. Resultados reales para empresas reales.";

// Datos de proyectos (Mockup basado en el documento)
const projects = [
  {
    id: 1,
    slug: 'inmobiliaria-luxe',
    title: 'Inmobiliaria Luxe',
    category: 'web',
    categoryLabel: 'Desarrollo Web',
    service: 'Desarrollo Web Corporativo + SEO',
    result: '+40% Leads en 3 meses',
    image: 'bg-gray-200' // Placeholder class
  },
  {
    id: 2,
    slug: 'moda-organica',
    title: 'Moda Orgánica',
    category: 'social',
    categoryLabel: 'Redes Sociales',
    service: 'Estrategia de Contenidos (Instagram)',
    result: 'Crecimiento orgánico de comunidad',
    image: 'bg-gray-300'
  },
  {
    id: 3,
    slug: 'lanzamiento-app',
    title: 'Lanzamiento App',
    category: 'web',
    categoryLabel: 'Landing Page',
    service: 'Landing Page (One-page)',
    result: 'Lanzamiento de producto exitoso',
    image: 'bg-gray-200'
  },
  {
    id: 4,
    slug: 'consultoria-legal',
    title: 'Consultoría Legal',
    category: 'branding',
    categoryLabel: 'Branding',
    service: 'Rediseño Web & Branding',
    result: 'Modernización de identidad',
    image: 'bg-gray-300'
  }
];
---

<MainLayout title={title} description={description}>
  <Header />

  <main class="pt-32 pb-20">
    <!-- [SECCIÓN 1: HERO] -->
    <section class="mb-16">
      <Container>
        <div class="max-w-3xl mx-auto text-center animate-fade-in">
          <h1 class="text-4xl md:text-6xl font-bold text-hikevo-black mb-6 tracking-tight">
            Menos ruido, <br />
            <span class="text-hikevo-gray">más impacto.</span>
          </h1>
          <p class="text-lg text-hikevo-charcoal/80 leading-relaxed mb-10">
            Una selección de nuestros proyectos favoritos. Diseñados para convertir y construidos para durar.
          </p>

          <!-- Filtros de Categoría -->
          <div class="flex flex-wrap justify-center gap-2 md:gap-4" id="portfolio-filters">
            <button class="filter-btn px-6 py-2 rounded-full text-sm font-semibold transition-all bg-hikevo-black text-white" data-filter="all">
              Todos
            </button>
            <button class="filter-btn px-6 py-2 rounded-full text-sm font-semibold transition-all bg-gray-100 text-gray-600 hover:bg-gray-200" data-filter="web">
              Desarrollo Web
            </button>
            <button class="filter-btn px-6 py-2 rounded-full text-sm font-semibold transition-all bg-gray-100 text-gray-600 hover:bg-gray-200" data-filter="social">
              Redes Sociales
            </button>
             <button class="filter-btn px-6 py-2 rounded-full text-sm font-semibold transition-all bg-gray-100 text-gray-600 hover:bg-gray-200" data-filter="branding">
              Branding
            </button>
          </div>
        </div>
      </Container>
    </section>

    <!-- [SECCIÓN 2: GRID DE PROYECTOS] -->
    <section class="mb-24">
      <Container>
        <div class="grid md:grid-cols-2 gap-8" id="projects-grid">
          {projects.map((project) => (
            <article class="group project-card" data-category={project.category}>
              <a href={`/portafolio/${project.slug}`} class="block">
                <!-- Imagen con Aspect Ratio -->
                <div class={`rounded-2xl aspect-[4/3] mb-6 overflow-hidden relative ${project.image} group-hover:shadow-lg transition-all duration-500`}>
                   <!-- Placeholder visual -->
                   <div class="absolute inset-0 flex items-center justify-center text-gray-400 font-medium group-hover:scale-105 transition-transform duration-700">
                      Mockup {project.title}
                   </div>
                   <!-- Overlay al Hover -->
                   <div class="absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-300"></div>
                </div>
                
                <div class="flex items-start justify-between">
                    <div>
                        <h3 class="text-2xl font-bold mb-1 group-hover:text-hikevo-yellow transition-colors">{project.title}</h3>
                        <p class="text-sm text-hikevo-gray font-medium mb-2">{project.service}</p>
                        <div class="inline-block bg-green-50 text-green-700 text-xs px-2 py-1 rounded-md font-medium border border-green-100">
                             Result: {project.result}
                        </div>
                    </div>
                    <div class="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center group-hover:bg-hikevo-black group-hover:border-hikevo-black transition-all">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-black group-hover:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                    </div>
                </div>
              </a>
            </article>
          ))}
        </div>
      </Container>
    </section>

    <!-- [SECCIÓN 3: CTA "BANDEJA DE SALIDA"] -->
    <section class="py-20 bg-hikevo-gray-light">
        <Container>
            <div class="text-center max-w-2xl mx-auto">
                <h2 class="text-3xl font-bold mb-4">¿Te gusta lo que ves?</h2>
                <p class="text-gray-600 mb-8">Podemos construir algo igual de efectivo para tu negocio.</p>
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                    <Button href="https://wa.me/1234567890" variant="primary" isExternal={true}>
                        Iniciar mi Proyecto
                    </Button>
                    <Button href="/soluciones" variant="outline">
                        Ver Precios
                    </Button>
                </div>
            </div>
        </Container>
    </section>
  </main>
</MainLayout>

<script>
  // Lógica de filtrado Vanilla JS
  const filters = document.querySelectorAll('.filter-btn');
  const cards = document.querySelectorAll('.project-card');

  filters.forEach(btn => {
    btn.addEventListener('click', () => {
      // Remover clase activa de todos
      filters.forEach(b => {
        b.classList.remove('bg-hikevo-black', 'text-white');
        b.classList.add('bg-gray-100', 'text-gray-600');
      });
      // Activar clickeado
      btn.classList.remove('bg-gray-100', 'text-gray-600');
      btn.classList.add('bg-hikevo-black', 'text-white');

      const filterValue = btn.getAttribute('data-filter');

      cards.forEach(card => {
        if (filterValue === 'all' || card.getAttribute('data-category') === filterValue) {
          card.classList.remove('hidden');
          // Pequeña animación de entrada
          card.animate([
            { opacity: 0, transform: 'translateY(10px)' },
            { opacity: 1, transform: 'translateY(0)' }
          ], { duration: 300, easing: 'ease-out' });
        } else {
          card.classList.add('hidden');
        }
      });
    });
  });
</script>